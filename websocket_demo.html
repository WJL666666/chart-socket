<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button id="connect">连接</button>
<button id="send" disabled="true">发送数据</button><br>
从服务端接收的数据如下：<br>
<span id="recv"></span>
<script>
   const connect = document.querySelector('#connect');
   const send = document.querySelector('#send');
   const recv = document.querySelector('#recv');
   let ws = null
   connect.onclick = function () {
       const ws = new WebSocket('ws://localhost:9998')
       ws.onopen = () => {
           console.log('连接成功了')
           send.disabled = false
       }
       ws.onclose = () => {
           console.log('连接失败了')
       }
       ws.onmessage = msg => {
           console.log('接收到服务端发送的数据了')
           console.log('222', msg)
           recv.innerHTML = msg.data
       }
       send.onclick = function () {
           // ws.send('hello socket from 前端')
           ws.send(JSON.stringify({
               action: 'getData',
               socketType: 'trendData',
               chartName: 'seller',
               value: ''
           }))
       }
   }
   // send.onclick = function () {
   //     ws.send('hello socket from 前端')
   // }
</script>
</body>
</html>